(function(){var e,t,n,r,a,o,i,s;o="image/jpeg",a=1,r="data:image/jpeg;base64,".length,s=!0,i=function(){var e,t,n,r;for(r=["HTMLCanvasElement","FileReader","Uint8Array","ArrayBuffer","Blob","URL","Worker"],t=0,n=r.length;n>t;t++)if(e=r[t],!(e in window))return e}(),"toBlob"in HTMLCanvasElement.prototype||(n=function(){return self.onmessage=function(e){var t,n,r,a,o;for(t=e.data,r=t.length,a=new Uint8Array(new ArrayBuffer(r)),n=o=0;r>=0?r>o:o>r;n=r>=0?++o:--o)a[n]=t.charCodeAt(n);return self.postMessage(new Blob([a.buffer],{type:"image/jpeg"})),self.close()}},e=URL.createObjectURL(new Blob(["("+n.toString()+")()"],{type:"application/javascript"}))),t=function(t,n){var s;return i&&alert("Sorry, your browser is too old to support ExifExodus. (Missing "+i+" support)"),s=new FileReader,s.addEventListener("load",function(){var t;return t=new Image,t.addEventListener("load",function(){var i,s,u,l;return u=t.width,s=t.height,i=document.createElement("canvas"),i.width=u,i.height=s,i.getContext("2d").drawImage(t,0,0,u,s),i.toBlob?i.toBlob(n,o,a):(l=new Worker(e),l.onmessage=function(e){return n(e.data)},l.postMessage(atob(i.toDataURL(o,a).slice(r))))}),t.src=s.result}),s.readAsDataURL(t)},document.addEventListener("DOMContentLoaded",function(){var e,n;return document.getElementById("bookmarklet-btn").addEventListener("click",function(e){return e.preventDefault(),alert("Drag this button to your bookmarks bar!")}),n=document.getElementById("photo-drop"),e=document.getElementById("output"),n.ondragenter=function(e){return e.preventDefault(),this.className="drag-hover"},n.ondragover=function(e){return e.preventDefault()},n.ondragleave=function(){return this.className=""},n.ondrop=function(n){var r,a,i,u,l;for(n.preventDefault(),this.className="",u=n.dataTransfer.files,l=[],a=0,i=u.length;i>a;a++)r=u[a],l.push(function(n){return n.type!==o&&alert("Sorry, ExifExodus only works with JPG files."),t(n,function(t){var n;return n=document.createElement("img"),n.src=URL.createObjectURL(t),e.appendChild(n),s?(e.className="",s=!1):void 0})}(r));return l}})}).call(this);
//# sourceMappingURL=site.js.map